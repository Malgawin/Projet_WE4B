<div class="container-creation-text">
    <div>
        <label class="title-form">Créer un devoir</label>
    </div>
    <form [formGroup]="assignForm" (ngSubmit)="submitForm()">
        <div>
            Titre :
            <input type="text" formControlName="title" class="form-control" (blur)="assignForm.get('title')?.markAsTouched()">
            <div class="error-message" *ngIf="title?.errors && (title?.dirty || title?.touched)">
                <div *ngIf="title?.errors?.['required']">Le titre est obligatoire</div>
            </div>
        </div>
        <div>
            Date de publication :
            <input type="datetime-local" formControlName="publishDate" class="form-control" (blur)="assignForm.get('publishDate')?.markAsTouched()">
           <div class="error-message" *ngIf="publishDate?.errors && (publishDate?.dirty || publishDate?.touched)">
                <div *ngIf="publishDate?.errors?.['required']">Date de rendu obligatoire</div>
                <div *ngIf="publishDate?.errors?.['checkDate']">La date doit être dans le future</div>  
            </div>
        </div>
        <div>
            Date de rendu :
            <input type="datetime-local" formControlName="deadline" class="form-control" (blur)="assignForm.get('deadline')?.markAsTouched()">
            <div class="error-message" *ngIf="deadline?.errors && (deadline?.dirty || deadline?.touched)">
                <div *ngIf="deadline?.errors?.['required']">Date de rendu obligatoire</div>
                <div *ngIf="deadline?.errors?.['checkDate']">La date doit être dans le future</div>               
                
            </div>
        </div>
        <div>
            Type de message :
            <select formControlName="type" class="form-control" (blur)="assignForm.get('type')?.markAsTouched()">
                <option value="">Sélectionner un type</option>
                <option value="important">Important</option>
                <option value="annonce">Annonce</option>
                <option value="info">Information</option>
            </select>
            <div class="error-message" *ngIf="type?.errors && (type?.dirty || type?.touched)">
                <div *ngIf="type?.errors?.['required']" >Le type est obligatoire</div>
            </div>
        </div>
        <div>
            Message :
            <textarea formControlName="message" class="form-control" (blur)="assignForm.get('message')?.markAsTouched()"></textarea>
            <div *ngIf="message?.errors && (message?.dirty || message?.touched)">
                <div class="error-message" *ngIf="message?.errors?.['required']">Le message est obligatoire</div>
            </div>
        </div>
        <div class="container-button-form">
            <button type='submit' [disabled]='!assignForm.valid'>Valider</button>
        </div>
    </form>
</div>